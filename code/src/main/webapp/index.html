<html lang="nl">
	<head>
		<link rel="stylesheet" type="text/css" href="style.css"/>
		<link rel="icon" href="icon.svg">
		<link rel="manifest" href="manifest.json">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<meta name="theme-color" content="#3b9859"/>
		<title>CloneBook</title>
	</head>
	<body>
		<header role="banner" id="topBar">
			<img src="icon.svg" height="32px" alt="">
			<span id="siteName">CloneBook</span>
			<div id="userMenu">
				<button id="userMenuName"></button>
				<div id="userMenuItems">
					<a href="#" onclick="openSettings()">Instellingen</a>
					<a href="#" onclick="logout()">Uitloggen</a>
				</div>
			</div>
		</header>
		<main role="main">
			<div id="notLoggedIn">
				<div id="loginOptions">
					<form id="loginScreen" action="javascript:login()">
						<fieldset>
							<legend>Inloggen</legend>
							<label for="loginEmail">E-mail adres:</label>
							<input type="email" name="email" id="loginEmail" required><br>
							<label for="loginPassword">Wachtwoord:</label>
							<input type="password" name="password" id="loginPassword" required><br>
						</fieldset>
						<input type="submit" id="loginButton" value="Inloggen">
					</form>
					<b id="loginSeparator">OF</b>
					<form id="newAccountScreen" action="javascript:passwordRequest()">
						<fieldset>
							<legend>Nieuw account aanmaken<br>wachtwoord vergeten</legend>
							<label for="newAccountEmail">E-mail adres:</label>
							<input type="email" id="newAccountEmail" name="email" required><br>
						</fieldset>
						<input type="submit" id="createNewAccountButton" value="Account aanmaken">
					</form>
				</div>
				<form id="newPasswordScreen" action="javascript:savePassword()">
					<input type="hidden" name="code" id="newPasswordCode">
					<fieldset>
						<legend>Nieuw wachtwoord instellen</legend>
						<label for="newPasswordBox">Wachtwoord:</label>
						<input type="password" name="password" id="newPasswordBox"><br>
					</fieldset>
					<input type="submit" id="newPasswordButton" value="Wachtwoord opslaan">
				</form>
			</div>
			<form id="settings" action="javascript:settingsSave()">
				<label for="settingsName">Naam:</label>
				<input name="name" id="settingsName"><br>
				<label for="settingsEmail">E-mail:</label>
				<input type="email" name="email" id="settingsEmail"><br>
				<input type="submit" value="opslaan">
			</form>
			<div id="page">
				<header id="pageHeader" class="border">
					<img src="icon.svg" alt="">
					<h1>Pagina naam</h1>
					<button id="newPost">Nieuw bericht</button>
				</header>
				<div id="posts">
				</div>
			</div>
		</main>
		<aside id="friends">Vrienden</aside>
		<footer id="copyright">Copyright Ruben van Dijk</footer>
		<template id="postTemplate">
			<article class="post border" role="article">
				<header class="postHeader">
					<img alt="" class="profilePicture">
					<a href="#" class="name"></a>
				</header>
				<div class="media"></div>
				<p class="text"></p>
				<div class="postFooter">
					<button class="vote" action="up">&#128077;</button>
					<button class="replyButton">Reageer</button>
					<button class="vote" action="down">&#128078;</button>
				</div>
				<div class="subReplies"></div>
			</article>
		</template>
		<template id="messageBoxTemplate">
			<div class="messageDiv">
				<form class="messageForm">
					<input type="hidden" name="repliedTo">
					<input type="hidden" name="pageId">
					<label>bericht:<br><textarea name="text" class="messageBox" required></textarea></label>
					<button type="button" type="button" class="messageEmoticon">&#128512;</button>
					<input type="submit" value="opslaan">
					<div class="files"></div>
					<button type="button" class="newFile">Nieuw bestand</button>
				</form>
			</div>
		</template>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.slim.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/@joeattardi/emoji-button@3.0.3/dist/index.min.js"></script>
		<script src="service/loginSignup.js"></script>
		<script src="service/media.js"></script>
		<script src="service/page.js"></script>
		<script src="service/post.js"></script>
		<script src="service/settings.js"></script>
		<script src="service/user.js"></script>
		<script src="service/utils.js"></script>
		<script src="view/loginSignup.js"></script>
		<script src="view/post.js"></script>
		<script src="view/settings.js"></script>
		<script src="view/utils.js"></script>
		<script>
			if(window.location.hash && window.location.hash.split('=')[1]) {
				const parts = window.location.hash.split('=');
				if(parts[1]) {
					parts[0]=parts[0].split('#')[1];
					if(parts[0]==="newAccount") {
						$("#newPasswordCode").val(parts[1]);
						$('#newPasswordScreen').show();
						$('#loginOptions').hide();
						$('#notLoggedIn').show();
					}
				}
			} else load();
			if ('serviceWorker' in navigator) {
				navigator.serviceWorker.register('service-worker.js', { scope: '/' });
			}
		</script>
	</body>
</html>