ALTER TABLE page DROP FOREIGN KEY FKpage695732;
ALTER TABLE pageLid DROP FOREIGN KEY FKpageLid998175;
ALTER TABLE pageLid DROP FOREIGN KEY FKpageLid886583;
ALTER TABLE post DROP FOREIGN KEY FKpost983184;
ALTER TABLE post DROP FOREIGN KEY FKpost871592;
ALTER TABLE vote DROP FOREIGN KEY FKvote377775;
ALTER TABLE vote DROP FOREIGN KEY FKvote804422;
ALTER TABLE user_chat DROP FOREIGN KEY FKuser_chat410197;
ALTER TABLE user_chat DROP FOREIGN KEY FKuser_chat558345;
ALTER TABLE chatMessage DROP FOREIGN KEY FKchatMessag169864;
ALTER TABLE chatMessage DROP FOREIGN KEY FKchatMessag21716;
ALTER TABLE post DROP FOREIGN KEY FKpost75210;
ALTER TABLE `user` DROP FOREIGN KEY FKuser493172;
ALTER TABLE media_post DROP FOREIGN KEY FKmedia_post671877;
ALTER TABLE media_post DROP FOREIGN KEY FKmedia_post745297;
ALTER TABLE page DROP FOREIGN KEY FKpage135695;
ALTER TABLE newPassword DROP FOREIGN KEY FKnewPasswor304528;
ALTER TABLE `session` DROP FOREIGN KEY FKsession559650;
ALTER TABLE media DROP FOREIGN KEY FKmedia538898;
DROP TABLE IF EXISTS `user`;
DROP TABLE IF EXISTS page;
DROP TABLE IF EXISTS chatMessages;
DROP TABLE IF EXISTS pageLid;
DROP TABLE IF EXISTS post;
DROP TABLE IF EXISTS vote;
DROP TABLE IF EXISTS chat;
DROP TABLE IF EXISTS user_chat;
DROP TABLE IF EXISTS chatMessage;
DROP TABLE IF EXISTS media;
DROP TABLE IF EXISTS media_post;
DROP TABLE IF EXISTS newPassword;
DROP TABLE IF EXISTS `session`;
CREATE TABLE `user` (ID varchar(255) NOT NULL, profilePicture varchar(255), name varchar(255), email varchar(255) NOT NULL UNIQUE, hash varchar(255), salt varchar(255), PRIMARY KEY (ID), UNIQUE INDEX (ID));
CREATE TABLE page (ID varchar(255) NOT NULL, name varchar(255) NOT NULL, ownerId varchar(255) NOT NULL, banner varchar(255), PRIMARY KEY (ID), UNIQUE INDEX (ID));
CREATE TABLE chatMessages ();
CREATE TABLE pageLid (userID varchar(255) NOT NULL, pageID varchar(255) NOT NULL, PRIMARY KEY (userID, pageID));
CREATE TABLE post (ID varchar(255) NOT NULL, userID varchar(255) NOT NULL, pageID varchar(255), repliedTo varchar(255), `date` timestamp NOT NULL, text text NOT NULL, PRIMARY KEY (ID), UNIQUE INDEX (ID));
CREATE TABLE vote (postID varchar(255) NOT NULL, userID varchar(255) NOT NULL, vote tinyint, PRIMARY KEY (postID, userID));
CREATE TABLE chat (ID int(10) NOT NULL AUTO_INCREMENT, name varchar(255), PRIMARY KEY (ID), UNIQUE INDEX (ID));
CREATE TABLE user_chat (userID varchar(255) NOT NULL, chatID int(10) NOT NULL, PRIMARY KEY (userID, chatID));
CREATE TABLE chatMessage (userID varchar(255) NOT NULL, chatID int(10) NOT NULL, message text NOT NULL);
CREATE TABLE media (id varchar(255) NOT NULL, location varchar(255) NOT NULL UNIQUE, owner varchar(255) NOT NULL, PRIMARY KEY (id), UNIQUE INDEX (id));
CREATE TABLE media_post (mediaid varchar(255) NOT NULL, postID varchar(255) NOT NULL, PRIMARY KEY (mediaid, postID));
CREATE TABLE newPassword (ID int(11) NOT NULL AUTO_INCREMENT, validUntil date NOT NULL, code varchar(255) NOT NULL, userID varchar(255) NOT NULL, PRIMARY KEY (ID));
CREATE TABLE `session` (ID varchar(255) NOT NULL, validUntil timestamp NOT NULL, userID varchar(255) NOT NULL, PRIMARY KEY (ID));
ALTER TABLE page ADD CONSTRAINT FKpage695732 FOREIGN KEY (ownerId) REFERENCES `user` (ID) ON DELETE Cascade;
ALTER TABLE pageLid ADD CONSTRAINT FKpageLid998175 FOREIGN KEY (userID) REFERENCES `user` (ID) ON DELETE Cascade;
ALTER TABLE pageLid ADD CONSTRAINT FKpageLid886583 FOREIGN KEY (pageID) REFERENCES page (ID) ON DELETE Cascade;
ALTER TABLE post ADD CONSTRAINT FKpost983184 FOREIGN KEY (userID) REFERENCES `user` (ID) ON DELETE Cascade;
ALTER TABLE post ADD CONSTRAINT FKpost871592 FOREIGN KEY (pageID) REFERENCES page (ID) ON DELETE Cascade;
ALTER TABLE vote ADD CONSTRAINT FKvote377775 FOREIGN KEY (postID) REFERENCES post (ID) ON DELETE Cascade;
ALTER TABLE vote ADD CONSTRAINT FKvote804422 FOREIGN KEY (userID) REFERENCES `user` (ID) ON DELETE Cascade;
ALTER TABLE user_chat ADD CONSTRAINT FKuser_chat410197 FOREIGN KEY (userID) REFERENCES `user` (ID) ON DELETE Cascade;
ALTER TABLE user_chat ADD CONSTRAINT FKuser_chat558345 FOREIGN KEY (chatID) REFERENCES chat (ID) ON DELETE Cascade;
ALTER TABLE chatMessage ADD CONSTRAINT FKchatMessag169864 FOREIGN KEY (userID) REFERENCES `user` (ID) ON DELETE Cascade;
ALTER TABLE chatMessage ADD CONSTRAINT FKchatMessag21716 FOREIGN KEY (chatID) REFERENCES chat (ID) ON DELETE Cascade;
ALTER TABLE post ADD CONSTRAINT FKpost75210 FOREIGN KEY (repliedTo) REFERENCES post (ID) ON DELETE Cascade;
ALTER TABLE `user` ADD CONSTRAINT FKuser493172 FOREIGN KEY (profilePicture) REFERENCES media (id) ON DELETE Cascade;
ALTER TABLE media_post ADD CONSTRAINT FKmedia_post671877 FOREIGN KEY (mediaid) REFERENCES media (id) ON DELETE Cascade;
ALTER TABLE media_post ADD CONSTRAINT FKmedia_post745297 FOREIGN KEY (postID) REFERENCES post (ID) ON DELETE Cascade;
ALTER TABLE page ADD CONSTRAINT FKpage135695 FOREIGN KEY (banner) REFERENCES media (id) ON DELETE Cascade;
ALTER TABLE newPassword ADD CONSTRAINT FKnewPasswor304528 FOREIGN KEY (userID) REFERENCES `user` (ID) ON DELETE Cascade;
ALTER TABLE `session` ADD CONSTRAINT FKsession559650 FOREIGN KEY (userID) REFERENCES `user` (ID) ON DELETE Cascade;
ALTER TABLE media ADD CONSTRAINT FKmedia538898 FOREIGN KEY (owner) REFERENCES `user` (ID) ON DELETE Cascade;
